import{ai as f,G as c,h as y,Y as v,y as V,d as O,g as $,o as d,c as p,k as n,af as b,aj as P,m as a,O as x,F as T,E as w,t as L,n as A,ah as F}from"./framework.6zBGSZiE.js";import{d as N}from"./pinia.2_X7UJlp.js";const B=N("playground",()=>{const r=f("shikiji-playground-lang","typescript"),t=f("shikiji-playground-theme","vitesse-dark"),u=c([{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:void 0}]),l=c([{id:"typescript",name:"TypeScript",import:void 0}]),o=c([]),e=c([]),m=f("shikiji-playground-input",""),k=y("<pre></pre>"),S=y(""),h=y(!0);function D(){l.value.length&&u.value.length&&(r.value=l.value[Math.floor(Math.random()*l.value.length)].id,t.value=u.value[Math.floor(Math.random()*u.value.length)].id)}return typeof window<"u"&&(async()=>{const{getHighlighter:I,addClassToHast:j}=await v(()=>import("./index.odD8OPZ0.js").then(i=>i.i),__vite__mapDeps([0,1,2,3])),{bundledLanguagesInfo:E}=await v(()=>import("./index.odD8OPZ0.js").then(i=>i.b),__vite__mapDeps([0,1,2,3])),{bundledLanguagesInfo:R}=await v(()=>import("./bundle-web.extwzzxi.js"),__vite__mapDeps([4,1,3,2])),{bundledThemesInfo:C}=await v(()=>import("./themes.1u7kaAE8.js"),__vite__mapDeps([2,1])),g=await I({themes:[t.value],langs:["typescript","javascript",r.value]}),_=new Map;function H(i){return _.has(i)||_.set(i,fetch(`https://raw.githubusercontent.com/antfu/textmate-grammars-themes/main/samples/${i}.sample`).then(s=>s.text()).catch(s=>{console.error(s)})),_.get(i)}u.value=C,l.value=E,o.value=E,e.value=R,V(m,M,{immediate:!0}),V([r,t],async(i,s)=>{if(h.value=!0,await Promise.all([g.loadTheme(t.value),g.loadLanguage(r.value)]),(s[0]||!m.value)&&i[0]!==s[0]){const z=await H(r.value);z&&(m.value=z.trim().replace(/\n.*?from.*?$/i,"").trim())}M()},{immediate:!0});function M(){k.value=g.codeToHtml(m.value,{lang:r.value,theme:t.value,transformers:[{pre(i){var s;j(i,"vp-code"),S.value=((s=i.properties)==null?void 0:s.style)||""}}]}),h.value=!1}})(),{lang:r,theme:t,allLanguages:l,allThemes:u,bundledLangsFull:o,bundledLangsWeb:e,input:m,output:k,isLoading:h,preStyle:S,randomize:D}}),U={absolute:"","z-10":"",p2:"",px3:"",pl5:"",flex:"~ gap-1 items-center","left-0":"","top-0":"","right-0":"",border:"b-solid gray/5"},W=n("div",{"i-carbon:chevron-down":"",op50:""},null,-1),G=["value"],Y=n("div",{"i-carbon:chevron-down":"",op50:""},null,-1),q=["value"],J=n("option",{disabled:""}," ────────── ",-1),K=["value"],Q=n("div",{"flex-auto":""},null,-1),X=n("div",{op50:"","text-xs":"","mx-2":""}," 演练场 ",-1),Z=n("div",{"i-carbon:shuffle":"",op50:""},null,-1),ee=[Z],te={relative:"","mt-10":"","min-h-100":""},ae=["innerHTML"],ie=O({__name:"ShikijiMiniPlayground",setup(r){const t=B(),u=$(()=>{var l;return((l=t.allThemes.find(o=>o.id===t.theme))==null?void 0:l.type)||"inherit"});return(l,o)=>(d(),p("div",{class:"language-ts vp-adaptive-theme mini-playground transition-none!",shadow:"",style:x([a(t).preStyle,{colorScheme:u.value}])},[n("div",U,[W,b(n("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>a(t).lang=e),"font-mono":"",style:x(a(t).preStyle)},[(d(!0),p(T,null,w(a(t).allLanguages,e=>(d(),p("option",{key:e.id,value:e.id},L(e.name),9,G))),128))],4),[[P,a(t).lang]]),Y,b(n("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>a(t).theme=e),"font-mono":"",style:x(a(t).preStyle)},[(d(!0),p(T,null,w(a(t).allThemes.filter(e=>e.type==="light"),e=>(d(),p("option",{key:e.id,value:e.id},L(e.displayName),9,q))),128)),J,(d(!0),p(T,null,w(a(t).allThemes.filter(e=>e.type==="dark"),e=>(d(),p("option",{key:e.id,value:e.id},L(e.displayName),9,K))),128))],4),[[P,a(t).theme]]),Q,n("div",{"i-svg-spinners-3-dots-fade":"",class:A(a(t).isLoading?"op100":"op0"),"flex-none":"","transition-opacity":""},null,2),X,n("button",{title:"Randomize",hover:"bg-gray/10",p1:"",rounded:"",onClick:o[2]||(o[2]=(...e)=>a(t).randomize&&a(t).randomize(...e))},ee)]),n("div",te,[n("span",{innerHTML:a(t).output},null,8,ae),b(n("textarea",{"onUpdate:modelValue":o[3]||(o[3]=e=>a(t).input=e),"font-mono":"","bg-transparent":"",absolute:"","inset-0":"","py-20px":"","px-24px":"","text-transparent":"","caret-gray":"","tab-4":"",class:"line-height-$vp-code-line-height font-$vp-font-family-mono text-size-$vp-code-font-size"},null,512),[[F,a(t).input]])])],4))}});export{ie as _,B as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/index.odD8OPZ0.js","assets/chunks/framework.6zBGSZiE.js","assets/chunks/themes.1u7kaAE8.js","assets/chunks/wasm.BfF3QnfP.js","assets/chunks/bundle-web.extwzzxi.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}